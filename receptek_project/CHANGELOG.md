# CHANGELOG.md – Ele SQL Refaktor Naplója 🐘

Dokumentált változások a PostgreSQL recept-adatmodellben.
Minden lépés célja az adatintegritás növelése, az azonosítókezelés modernizálása és a relációs tisztaság biztosítása.

---

## 2025-07-15 – Foreign key RESTRICT bevezetése
- A korábbi `ON DELETE CASCADE` kapcsolatok módosítva RESTRICT-re 8 táblában
- Tranzakciós migrációval biztonságosabb adatkezelés
- Megelőzhető a nem kívánt törlési láncreakció

## 2025-07-16 – Sequence szinkronizálás a `receptek.recipeid` mezőre
- Lefuttatva: `setval(pg_get_serial_sequence('receptek', 'receptid'), MAX(receptid))`
- Sequence készen áll az `IDENTITY` refaktorra

## 2025-07-17 – SERIAL → IDENTITY migráció
- `ALTER TABLE receptek ALTER COLUMN receptid DROP DEFAULT;`
- `ALTER TABLE receptek ALTER COLUMN receptid ADD GENERATED BY DEFAULT AS IDENTITY;`
- Racionális azonosítókezelés új recept felvételkor

---

> „Minden változás egy lépés a tiszta relációs zenéhez.” – Ele 🐘🎶
